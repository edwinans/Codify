{% extends 'base.html.twig' %}
{% block title user.username %}

{% block head %}

	<!-- Boostrap for nested table -->
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link
	rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<!-- Compiled and minified CSS -->
	<link
	rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

	<!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
{% endblock %}
{% block body %}
<h5> Bienvenu {{user.username}}</h5>
	<div class="container">
		<div class="row">
			<div class="col s6 ">
				<div class="card white">
					<div class="card-content white-text">
						<span class="card-title blue-grey-text darken-1">Exercices effectués</span>
						<table class="blue-grey-text darken-1">
							<thead>
								<tr>
									<th>Titre</th>
									<th>Statut de résolution</th>
								</tr>
							</thead>
							<tbody>

								{% set i=0 %}
								{% for resolution in resolutions %}
									{% set i=i+1 %}
									<tr id="package{{i}}" class="accordion-toggle green white-text" data-toggle="collapse" data-target="#accordion{{i}}">
										<td>{{resolution.exercice.title}}</td>

										{% if resolution.isResolved %}
											<td>
												Résolu !
											</td>
										{% else %}
											<td> Echec !
											</td>
										{% endif %}
										{#style="background-color: red"#}
									</tr>
									<tr>
										<td colspan="3" class="accordion-body collapse" id="accordion{{i}}">
											<table>
												<tr>
													<th>Catégorie</th>
													<th>Nb. Tentatives </th>
													<th>Dernier essai</th>
												</tr>
												<tr>
													<td>{{resolution.exercice.category.title}}</td>
													<td>{{resolution.tentatives}}</td>
													<td>{{resolution.getLastTryAt() | date('d/m/Y à H:i')}}</td>
												</tr>
											</table>
										</td>
									</tr>
									
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- Section start script -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
	<script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
{% endblock %}
