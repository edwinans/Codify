{% extends 'base.html.twig' %}

{% block title exercice.title %}

{% block body %}
	<div class="jumbtron">
		<div class="row">
			<div class="col-md-8"></div>
			<div class="col-md-4">
				<h1>
					{{exercice.title}}
				</h1>
				<h5>
					{{exercice.difficulte}}
					étoiles  - crée le
					{{exercice.createdAt | date('d/m/Y')}}
					à
					{{exercice.createdAt | date('H:i')}}
					dans la catégorie
					{{exercice.category.title}}
				</h5>

				<a href="#" class="btn btn-primary">
					Contacter l'enseignant
				</a>
			</div>
		</div>
	</div>

	<div class="container mt-4">
		<p>{{exercice.description | nl2br }}</p>
	</div>

	<section id="commentaires">
		<h1>{{exercice.comments | length }}
			commentaires
		</h1>
		{% for comment in exercice.comments %}
			<div class="comment">
				<div class="row">
					<div class="col-3">
						{{comment.author}}
						(<small>{{comment.createdAt | date('d/m/Y à H:i') }}</small>)
					</div>
					<div class="col">
						{{comment.content |raw}}
					</div>
				</div>
			</div>
		{% endfor %}
		{% if app.user %}
			{{form_start(commentForm)}}
			{{form_row(commentForm.author,{'attr': {
			'placeholder':  app.user.username
		}})}}
			{{form_row(commentForm.content,{'attr': {
			'placeholder': " Votre commentaire"
		}})}}
			<button type="submit" class="btn btn-success">
				Commenter
			</button>
			{{form_end(commentForm)}}
		{% else %}
			<h3>
				Vous ne pouvez pas commenter si vous n'etes pas connecté !
			</h3>
			<a href="{{path('login')}}" class="btn btn-primary">
				Connexion
			</a>
		{% endif %}
	</section>

{% endblock %}
